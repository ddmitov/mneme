<!DOCTYPE html>
<html>

  <head>
    <title>Mneme</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" media="all">

    <style type='text/css'>
      body {
        text-align: center;
        font-size: 16px;
        font-family: sans-serif;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <br>

      <div class="row justify-content-center">
        Mneme:<br>
        Bulgarian Mojolicious application for easy memorization of historical facts<br>
        UNDER CONSTRUCTION
      </div>

      <br>

      <div class="row justify-content-center">
        <a title="Derivative work by users: Srhat, Flamurai, Dsmurat. LGPL (http://www.gnu.org/licenses/lgpl.html)],
          via Wikimedia Commons" href="https://commons.wikimedia.org/wiki/File%3AUnder_construction_icon-green.svg">
          <img width="512" alt="Under construction icon-green"
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/54/Under_construction_icon-green.svg/512px-Under_construction_icon-green.svg.png"/>
        </a>
      </div>

      <br>

      <div class="row justify-content-center" id="question">
        <div class="btn btn-primary" onclick="javascript:getFirstQuestion();">
          Започни
        </div>
      </div>
    </div>

    <script>
      var webSocketOne;

      $(document).ready(function() {
        if (!("WebSocket" in window)) {
          alert('Your browser does not support WebSockets!');
          return;
        }

        webSocketConnection = new WebSocket("<%= url_for('data')->to_abs->scheme('wss') %>");

        webSocketConnection.onmessage = function (event) {
          var data = event.data;
          $('#question').html(data);
        };
      });

      function getFirstQuestion() {
        webSocketConnection.send("get_question_1");
      }
    </script>
  </body>
</html>
